<html>
<head>
    <link rel="stylesheet" href="/css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <title>WeMonkey</title>
</head>

<body class="bg-light">

  <!-- Navbar estreita alinhada ao feed -->
  <div class="feed-navbar">
    <div class="container feed-container">
      <h1 class="fw-bold" style="color:#7aff4b;">WeMonkey</h1>
      <div class="card">
        <div class="card-body d-flex">
            <img src="/avatars/avatar1.jpeg" class="rounded-circle me-3" width="48" height="48">
            <div style="width: 100%;">
                <div class="d-flex align-items-center mb-1">
                    <span class="fw-bold me-1">C√©zar</span>
                </div>
                <input type="text" class="form-control" placeholder="O que est√° macacando hoje?">
            </div>
        </div>
      </div>
    </div>
    </div>

  <!-- Feed -->
  <div class="container feed-container mt-4">

    <!-- Post -->
    <div class="card mb-3 shadow-sm border-0" style="border-radius:12px;">
        <div class="card-body d-flex">

            <!-- Avatar -->
            <img src="/avatars/avatar1.jpeg"
                class="rounded-circle me-3"
                width="48" height="48">

            <!-- Conte√∫do do tweet -->
            <div>

            <!-- Nome + @usuario -->
            <div class="d-flex align-items-center mb-1">
                <span class="fw-bold me-1">C√©zar</span>
            </div>

            <!-- Texto -->
            <p class="mb-2">
                Vamos fazer a revolu√ß√£o dos macacos.
            </p>

            <img src="https://picsum.photos/600/350"
           class="img-fluid rounded mb-2 border border-1" />

            <!-- √çcones igual Twitter -->
            <div class="d-flex text-muted action-buttons" style="font-size: 0.9rem;">
                <!-- Coment√°rios -->
                <span class="me-4 comment-btn" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#commentModal">
                    üí¨ <span class="comment-count">2</span>
                </span>

                <!-- Curtida -->
                <span class="me-4 like-btn" style="cursor:pointer;">
                    ‚ù§Ô∏è <span class="like-count">57</span>
                </span>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="commentModal" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Coment√°rios</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                    <div id="comment-list">
                    <p><strong>Simio:</strong> adorei üòÇ</p>
                    <p><strong>Amigo macaco:</strong> kkkkkk macacos dominando</p>
                    </div>

                    <textarea class="form-control mt-3" id="comment-input" placeholder="Escreva um coment√°rio..."></textarea>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-primary" id="send-comment">Enviar</button>
                </div>

                </div>
            </div>
            </div>


            </div>
        </div>
    </div>

    <!-- Post -->
    <div class="card mb-3 shadow-sm border-0" style="border-radius:12px;">
        <div class="card-body d-flex">

            <!-- Avatar -->
            <img src="/avatars/avatar2.jpg"
                class="rounded-circle me-3"
                width="48" height="48">

            <!-- Conte√∫do do tweet -->
            <div>

            <!-- Nome + @usuario -->
            <div class="d-flex align-items-center mb-1">
                <span class="fw-bold me-1">Simio</span>
            </div>

            <!-- Texto -->
            <p class="mb-2">
                uauauauauauau
            </p>

            <!-- <img src="https://picsum.photos/600/350"
           class="img-fluid rounded mb-2 border border-1" /> -->

            <!-- √çcones igual Twitter -->
            <div class="d-flex text-muted action-buttons" style="font-size: 0.9rem;">
                <!-- Coment√°rios -->
                <span class="me-4 comment-btn" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#commentModal2">
                    üí¨ <span class="comment-count">0</span>
                </span>

                <!-- Curtida -->
                <span class="me-4 like-btn" style="cursor:pointer;">
                    ‚ù§Ô∏è <span class="like-count">57</span>
                </span>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="commentModal2" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Coment√°rios</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                    <div id="comment-list">
                    </div>

                    <textarea class="form-control mt-3" id="comment-input" placeholder="Escreva um coment√°rio..."></textarea>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-primary" id="send-comment">Enviar</button>
                </div>

                </div>
            </div>
            </div>


            </div>
        </div>
    </div>

  </div>


  <script>
document.addEventListener("DOMContentLoaded", () => {

    // --- CURTIDA INTERATIVA ---
    document.querySelectorAll(".like-btn").forEach(btn => {
        btn.addEventListener("click", () => {
            let countSpan = btn.querySelector(".like-count");
            let count = parseInt(countSpan.innerText);

            if (btn.classList.contains("liked")) {
                btn.classList.remove("liked");
                countSpan.innerText = count - 1;
                btn.style.color = "inherit";
            } else {
                btn.classList.add("liked");
                countSpan.innerText = count + 1;
                btn.style.color = "red";
            }
        });
    });


    // --- ENVIAR COMENT√ÅRIO NO MODAL ---
    const commentBtn = document.getElementById("send-comment");
    const commentInput = document.getElementById("comment-input");
    const commentList = document.getElementById("comment-list");

    if (commentBtn) {
        commentBtn.addEventListener("click", () => {
            const text = commentInput.value.trim();
            if (text.length === 0) return;

            // adiciona o coment√°rio no modal
            const p = document.createElement("p");
            p.innerHTML = `<strong>@you:</strong> ${text}`;
            commentList.appendChild(p);

            commentInput.value = "";
        });
    }
});
</script>

</body>
</html>